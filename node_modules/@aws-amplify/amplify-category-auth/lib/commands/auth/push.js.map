{"version":3,"file":"push.js","sourceRoot":"","sources":["../../../src/commands/auth/push.ts"],"names":[],"mappings":";;;AACA,qDAA0C;AAC1C,8GAAiG;AAEpF,QAAA,IAAI,GAAG,MAAM,CAAC;AAC3B,MAAM,QAAQ,GAAG,MAAM,CAAC;AAEjB,MAAM,GAAG,GAAG,KAAK,EAAE,OAAmB,EAAE,EAAE;IAC/C,MAAM,EAAE,OAAO,EAAE,UAAU,EAAE,GAAG,OAAO,CAAC;IACxC,MAAM,YAAY,GAAG,UAAU,CAAC,KAAK,CAAC;IACtC,OAAO,CAAC,OAAO,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;IAC1C,IAAI;QACF,MAAM,MAAM,GAAG,MAAM,OAAO,CAAC,aAAa,CAAC,OAAO,EAAE,QAAQ,EAAE,YAAY,CAAC,CAAC;QAC5E,MAAM,mCAAW,CAAC,OAAO,CAAC,CAAC;QAC3B,OAAO,MAAM,CAAC;KACf;IAAC,OAAO,GAAG,EAAE;QACZ,yBAAO,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACxB,yBAAO,CAAC,KAAK,CAAC,8CAA8C,CAAC,CAAC;QAC9D,OAAO,CAAC,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;QACjC,OAAO,CAAC,QAAQ,GAAG,CAAC,CAAC;KACtB;AACH,CAAC,CAAC;AAdW,QAAA,GAAG,OAcd","sourcesContent":["import { $TSContext } from 'amplify-cli-core';\nimport { printer } from 'amplify-prompts';\nimport { uploadFiles } from '../../provider-utils/awscloudformation/utils/trigger-file-uploader';\n\nexport const name = 'push';\nconst category = 'auth';\n\nexport const run = async (context: $TSContext) => {\n  const { amplify, parameters } = context;\n  const resourceName = parameters.first;\n  context.amplify.constructExeInfo(context);\n  try {\n    const result = await amplify.pushResources(context, category, resourceName);\n    await uploadFiles(context);\n    return result;\n  } catch (err) {\n    printer.info(err.stack);\n    printer.error('There was an error pushing the auth resource');\n    context.usageData.emitError(err);\n    process.exitCode = 1;\n  }\n};\n"]}