{"version":3,"file":"enable.js","sourceRoot":"","sources":["../../../src/commands/auth/enable.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AACA,qDAA0C;AAC1C,2CAA6B;AAC7B,oGAA+F;AAC/F,gFAA+E;AAElE,QAAA,IAAI,GAAG,QAAQ,CAAC;AAChB,QAAA,QAAQ,GAAG,MAAM,CAAC;AAClB,QAAA,KAAK,GAAG,CAAC,KAAK,CAAC,CAAC;AAEtB,MAAM,GAAG,GAAG,KAAK,EAAE,OAAmB,EAAE,EAAE;IAC/C,IAAI,iCAAc,CAAC,OAAO,CAAC,EAAE;QAC3B,OAAO;KACR;IACD,MAAM,EAAE,OAAO,EAAE,GAAG,OAAO,CAAC;IAC5B,MAAM,4BAA4B,GAAG,MAAM,OAAO,CAAC,sBAAsB,CAAC,OAAO,EAAE,gBAAQ,EAAE,yCAAoB,EAAE,CAAC,CAAC;IACrH,MAAM,kBAAkB,GAAG,wDAAa,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,gBAAgB,EAAE,GAAG,4BAA4B,CAAC,YAAY,EAAE,EAAE,OAAO,CAAC,GAAC,CAAC;IAC1I,IAAI,CAAC,kBAAkB,EAAE;QACvB,yBAAO,CAAC,KAAK,CAAC,2CAA2C,CAAC,CAAC;QAC3D,OAAO;KACR;IACD,OAAO,kBAAkB,CAAC,WAAW,CAAC,OAAO,EAAE,4BAA4B,CAAC,OAAO,CAAC,CAAC;AACvF,CAAC,CAAC;AAZW,QAAA,GAAG,OAYd","sourcesContent":["import { $TSContext } from 'amplify-cli-core';\nimport { printer } from 'amplify-prompts';\nimport * as path from 'path';\nimport { projectHasAuth } from '../../provider-utils/awscloudformation/utils/project-has-auth';\nimport { getSupportedServices } from '../../provider-utils/supported-services';\n\nexport const name = 'enable';\nexport const category = 'auth';\nexport const alias = ['add'];\n\nexport const run = async (context: $TSContext) => {\n  if (projectHasAuth(context)) {\n    return;\n  }\n  const { amplify } = context;\n  const serviceSelectionPromptResult = await amplify.serviceSelectionPrompt(context, category, getSupportedServices());\n  const providerController = await import(path.join(`..`, `..`, `provider-utils`, `${serviceSelectionPromptResult.providerName}`, `index`));\n  if (!providerController) {\n    printer.error('Provider not configured for this category');\n    return;\n  }\n  return providerController.addResource(context, serviceSelectionPromptResult.service);\n};\n"]}