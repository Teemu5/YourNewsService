"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.migrateDefaultAuthMode = void 0;
const _1 = require(".");
const generators_1 = require("../generators");
const defaultAuthModeMap = new Map([
    ['apiKey', 'public'],
    ['iam', 'private'],
    ['userPools', 'private'],
    ['oidc', 'private'],
]);
function migrateDefaultAuthMode(node, defaultAuthMode) {
    if (defaultAuthMode === 'iam') {
        return;
    }
    if (!_1.hasAuthDirectives(node)) {
        const authRule = generators_1.createAuthRule(defaultAuthModeMap.get(defaultAuthMode), defaultAuthMode);
        _1.addAuthRuleToNode(node, authRule);
    }
}
exports.migrateDefaultAuthMode = migrateDefaultAuthMode;
//# sourceMappingURL=defaultAuth.js.map